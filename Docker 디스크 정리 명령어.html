<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>&#x1f9f9; Docker &#xb514;&#xc2a4;&#xd06c; &#xc815;&#xb9ac; &#xba85;&#xb839;&#xc5b4;</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h2 id="-docker-ë””ìŠ¤í¬-ì •ë¦¬-ëª…ë ¹ì–´">ğŸ§¹ Docker ë””ìŠ¤í¬ ì •ë¦¬ ëª…ë ¹ì–´</h2>
<h3 id="1ï¸âƒ£-í˜„ì¬-ë””ìŠ¤í¬-ì‚¬ìš©ëŸ‰-í™•ì¸">1ï¸âƒ£ í˜„ì¬ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸</h3>
<pre><code class="language-bash"><span class="hljs-comment"># Dockerê°€ ì‚¬ìš© ì¤‘ì¸ ë””ìŠ¤í¬ í™•ì¸</span>
docker system <span class="hljs-built_in">df</span>

<span class="hljs-comment"># ìƒì„¸ ì •ë³´</span>
[ìœ„í—˜!! mysql ë°ì´í„° ì‚­ì œë¨] docker system <span class="hljs-built_in">df</span> -v
</code></pre>
<h3 id="2ï¸âƒ£-ì•ˆì „í•œ-ì •ë¦¬-ì‚¬ìš©í•˜ì§€-ì•ŠëŠ”-ê²ƒë§Œ">2ï¸âƒ£ ì•ˆì „í•œ ì •ë¦¬ (ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒë§Œ)</h3>
<pre><code class="language-bash"><span class="hljs-comment"># ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëª¨ë“  ê²ƒ ì •ë¦¬ (ì•ˆì „, ì¶”ì²œ)</span>
[ìœ„í—˜!! mysql ë°ì´í„° ì‚­ì œë¨] docker system prune -a

<span class="hljs-comment"># ë³¼ë¥¨ê¹Œì§€ í¬í•¨í•´ì„œ ì •ë¦¬ (ì£¼ì˜!)</span>
[ìœ„í—˜!! mysql ë°ì´í„° ì‚­ì œë¨] docker system prune -a --volumes

<span class="hljs-comment"># ë¹Œë“œ ìºì‹œë§Œ ì •ë¦¬</span>
docker builder prune -a
</code></pre>
<h3 id="3ï¸âƒ£-ê°œë³„-ì •ë¦¬">3ï¸âƒ£ ê°œë³„ ì •ë¦¬</h3>
<pre><code class="language-bash"><span class="hljs-comment"># 1. ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆ ëª¨ë‘ ì‚­ì œ</span>
docker container prune

<span class="hljs-comment"># 2. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì‚­ì œ</span>
docker image prune -a

<span class="hljs-comment"># 3. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³¼ë¥¨ ì‚­ì œ (ì£¼ì˜!)</span>
docker volume prune

<span class="hljs-comment"># 4. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë„¤íŠ¸ì›Œí¬ ì‚­ì œ</span>
docker network prune

<span class="hljs-comment"># 5. ë¹Œë“œ ìºì‹œ ì‚­ì œ</span>
docker builder prune
</code></pre>
<h3 id="4ï¸âƒ£-ê°•ë ¥í•œ-ì •ë¦¬-ëª¨ë“ -ê²ƒ-ì‚­ì œ">4ï¸âƒ£ ê°•ë ¥í•œ ì •ë¦¬ (ëª¨ë“  ê²ƒ ì‚­ì œ)</h3>
<pre><code class="language-bash"><span class="hljs-comment"># âš ï¸ ê²½ê³ : ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ì œì™¸í•˜ê³  ëª¨ë‘ ì‚­ì œ</span>
docker system prune -a -f --volumes

<span class="hljs-comment"># ëª¨ë“  ì»¨í…Œì´ë„ˆ ì¤‘ì§€ í›„ ì‚­ì œ</span>
docker stop $(docker ps -aq)
docker <span class="hljs-built_in">rm</span> $(docker ps -aq)

<span class="hljs-comment"># ëª¨ë“  ì´ë¯¸ì§€ ì‚­ì œ</span>
docker rmi $(docker images -q)

<span class="hljs-comment"># ëª¨ë“  ë³¼ë¥¨ ì‚­ì œ (ë°ì´í„°ë² ì´ìŠ¤ ë°ì´í„°ë„ ì‚­ì œë¨!)</span>
docker volume <span class="hljs-built_in">rm</span> $(docker volume <span class="hljs-built_in">ls</span> -q)
</code></pre>
<h2 id="-ì¶”ì²œí•˜ëŠ”-ì •ë¦¬-ìˆœì„œ-ê°œë°œ-ì„œë²„">ğŸ¯ ì¶”ì²œí•˜ëŠ” ì •ë¦¬ ìˆœì„œ (ê°œë°œ ì„œë²„)</h2>
<pre><code class="language-bash"><span class="hljs-comment"># 1. í˜„ì¬ ìƒíƒœ í™•ì¸</span>
docker system <span class="hljs-built_in">df</span>

<span class="hljs-comment"># 2. ì„œë¹„ìŠ¤ ì¤‘ì§€ (í•„ìš”ì‹œ)</span>
docker-compose -f docker-compose.full.yml down

<span class="hljs-comment"># 3. ì•ˆì „í•˜ê²Œ ì •ë¦¬ (ëŒ€í™”í˜•)</span>
docker system prune -a

<span class="hljs-comment"># ì…ë ¥ í”„ë¡¬í”„íŠ¸ê°€ ë‚˜ì˜¤ë©´ &#x27;y&#x27; ì…ë ¥</span>
<span class="hljs-comment"># WARNING! This will remove:</span>
<span class="hljs-comment">#   - all stopped containers</span>
<span class="hljs-comment">#   - all networks not used by at least one container</span>
<span class="hljs-comment">#   - all images without at least one container associated to them</span>
<span class="hljs-comment">#   - all build cache</span>
<span class="hljs-comment"># Are you sure you want to continue? [y/N] y</span>

<span class="hljs-comment"># 4. ê²°ê³¼ í™•ì¸</span>
docker system <span class="hljs-built_in">df</span>

<span class="hljs-comment"># 5. ì„œë¹„ìŠ¤ ì¬ì‹œì‘</span>
docker-compose -f docker-compose.full.yml up -d
</code></pre>
<h2 id="-ê°-í•­ëª©ë³„-ê³µê°„-í™•ë³´-íš¨ê³¼">ğŸ“Š ê° í•­ëª©ë³„ ê³µê°„ í™•ë³´ íš¨ê³¼</h2>
<pre><code class="language-bash"><span class="hljs-comment"># Images (ê°€ì¥ ë§ì€ ê³µê°„ ì°¨ì§€)</span>
docker image prune -a
<span class="hljs-comment"># ì˜ˆìƒ: 5-20GB í™•ë³´</span>

<span class="hljs-comment"># Build cache (ë‘ ë²ˆì§¸ë¡œ ë§ìŒ)</span>
docker builder prune -a
<span class="hljs-comment"># ì˜ˆìƒ: 2-10GB í™•ë³´</span>

<span class="hljs-comment"># Containers (ì ì€ í¸)</span>
docker container prune
<span class="hljs-comment"># ì˜ˆìƒ: 100MB-1GB</span>

<span class="hljs-comment"># Volumes (ë°ì´í„°ë² ì´ìŠ¤ í¬í•¨, ì£¼ì˜!)</span>
docker volume prune
<span class="hljs-comment"># ì˜ˆìƒ: 1-5GB (í•˜ì§€ë§Œ ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥)</span>
</code></pre>
<h2 id="-ë””ìŠ¤í¬-ê³µê°„-ì¶”ê°€-í™•ë³´">ğŸ’¾ ë””ìŠ¤í¬ ê³µê°„ ì¶”ê°€ í™•ë³´</h2>
<pre><code class="language-bash"><span class="hljs-comment"># 1. ì‹œìŠ¤í…œ ì „ì²´ ë””ìŠ¤í¬ í™•ì¸</span>
<span class="hljs-built_in">df</span> -h

<span class="hljs-comment"># 2. Dockerê°€ ì°¨ì§€í•˜ëŠ” ì •í™•í•œ í¬ê¸°</span>
<span class="hljs-built_in">du</span> -sh /var/lib/docker

<span class="hljs-comment"># 3. ë¡œê·¸ íŒŒì¼ ì •ë¦¬</span>
find /var/lib/docker/containers/ -name <span class="hljs-string">&quot;*.log&quot;</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">truncate</span> -s 0 {} \;

<span class="hljs-comment"># 4. ì˜¤ë˜ëœ ë¹Œë“œ ì•„í‹°íŒ©íŠ¸ ì‚­ì œ</span>
<span class="hljs-built_in">cd</span> /root/akc-b2c
./gradlew clean
<span class="hljs-built_in">rm</span> -rf ~/.gradle/caches/
</code></pre>
<h2 id="-ì¦‰ì‹œ-ì‹¤í–‰í• -ëª…ë ¹ì–´-ì•ˆì „">ğŸ”§ ì¦‰ì‹œ ì‹¤í–‰í•  ëª…ë ¹ì–´ (ì•ˆì „)</h2>
<pre><code class="language-bash"><span class="hljs-comment"># í•œ ì¤„ë¡œ ì •ë¦¬ (ëŒ€í™”í˜• í™•ì¸ ìˆìŒ)</span>
docker system prune -a &amp;&amp; docker builder prune -a

<span class="hljs-comment"># í™•ì¸ ì—†ì´ ë°”ë¡œ ì •ë¦¬ (-f í”Œë˜ê·¸)</span>
docker system prune -a -f &amp;&amp; docker builder prune -a -f
</code></pre>
<h2 id="ï¸-ì£¼ì˜ì‚¬í•­">âš ï¸ ì£¼ì˜ì‚¬í•­</h2>
<ol>
<li>
<p><strong><code>docker volume prune</code>ì€ ì¡°ì‹¬!</strong></p>
<ul>
<li>MySQL ë°ì´í„°ê°€ ë³¼ë¥¨ì— ìˆë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì´ˆê¸°í™”ë©ë‹ˆë‹¤</li>
<li>ë°±ì—… í›„ ì‹¤í–‰í•˜ì„¸ìš”</li>
</ul>
</li>
<li>
<p><strong>ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ëŠ” ì˜í–¥ ì—†ìŒ</strong></p>
<ul>
<li><code>prune</code> ëª…ë ¹ì–´ëŠ” ì‚¬ìš© ì¤‘ì¸ ë¦¬ì†ŒìŠ¤ëŠ” ì‚­ì œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>
</ul>
</li>
<li>
<p><strong>ì •ë¦¬ í›„ ì¬ë¹Œë“œ í•„ìš”</strong></p>
<ul>
<li>ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ë©´ ë‹¤ìŒ <code>docker-compose up</code> ì‹œ ë‹¤ì‹œ ë¹Œë“œë©ë‹ˆë‹¤</li>
</ul>
</li>
</ol>
<p>ë¨¼ì € <code>docker system df</code>ë¡œ í™•ì¸í•˜ê³ , <code>docker system prune -a</code>ë¥¼ ì‹¤í–‰í•´ë³´ì„¸ìš”! ê²°ê³¼ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ì¶”ê°€ ì¡°ì¹˜ë¥¼ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ğŸš€</p>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>