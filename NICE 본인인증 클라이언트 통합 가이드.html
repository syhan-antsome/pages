<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>NICE &#xbcf8;&#xc778;&#xc778;&#xc99d; &#xd074;&#xb77c;&#xc774;&#xc5b8;&#xd2b8; &#xd1b5;&#xd569; &#xac00;&#xc774;&#xb4dc;</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="nice-ë³¸ì¸ì¸ì¦-í´ë¼ì´ì–¸íŠ¸-í†µí•©-ê°€ì´ë“œ">NICE ë³¸ì¸ì¸ì¦ í´ë¼ì´ì–¸íŠ¸ í†µí•© ê°€ì´ë“œ</h1>
<blockquote>
<p>ë‚˜ì´ìŠ¤í˜ì´ ë³¸ì¸ì¸ì¦ ì„œë¹„ìŠ¤ë¥¼ í”„ë¡ íŠ¸ì—”ë“œì— í†µí•©í•˜ê¸° ìœ„í•œ í•µì‹¬ ê°€ì´ë“œ</p>
</blockquote>
<h2 id="-ê°œìš”">ğŸ“‹ ê°œìš”</h2>
<p>ì‚¬ìš©ì í´ë¦­ â†’ ë³¸ì¸ì¸ì¦ íŒì—… â†’ ì¸ì¦ ì™„ë£Œ â†’ ì‚¬ìš©ì ì •ë³´ ìˆ˜ì‹ ì˜ í”Œë¡œìš°ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
ë°±ì—”ë“œëŠ” ì•”í˜¸í™”/ë³µí˜¸í™”ë¥¼ ë‹´ë‹¹í•˜ê³ , í”„ë¡ íŠ¸ëŠ” íŒì—… ê´€ë¦¬ì™€ ë°ì´í„° ì „ë‹¬ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.</p>
<hr>
<h2 id="-ì¸ì¦-í”Œë¡œìš°-3ë‹¨ê³„">ğŸ”„ ì¸ì¦ í”Œë¡œìš° (3ë‹¨ê³„)</h2>
<pre><code>1. POST /api/nice/auth/request
   â†’ ì•”í˜¸í™”ëœ ì¸ì¦ ë°ì´í„° ë°›ê¸° (tokenVersionId, encData, integrityValue)

2. form POST â†’ NICE íŒì—…
   â†’ ì‚¬ìš©ì ë³¸ì¸ì¸ì¦ ì§„í–‰

3. ì½œë°± â†’ postMessage â†’ POST /api/nice/auth/callback
   â†’ ë³µí˜¸í™”ëœ ì‚¬ìš©ì ì •ë³´ ìˆ˜ì‹  (ì´ë¦„, ìƒë…„ì›”ì¼, íœ´ëŒ€í°, CI/DI ë“±)
</code></pre>
<hr>
<h2 id="-ë°±ì—”ë“œ-api">ğŸ”Œ ë°±ì—”ë“œ API</h2>
<h3 id="1-ë³¸ì¸ì¸ì¦-ìš”ì²­">1. ë³¸ì¸ì¸ì¦ ìš”ì²­</h3>
<pre><code class="language-http">POST /api/nice/auth/request
<span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/json

{
  &quot;requestno&quot;: &quot;REQ1234567890&quot;,
  &quot;authtype&quot;: &quot;M&quot;,  // M: íœ´ëŒ€í°, C: ì¹´ë“œ, X: ì•„ì´í•€
  &quot;returnurl&quot;: &quot;https://example.com/niceauth-callback&quot;
}

<span class="hljs-attribute">Response</span>:
{
  &quot;success&quot;: true,
  &quot;data&quot;: {
    &quot;tokenVersionId&quot;: &quot;20250113...&quot;,
    &quot;encData&quot;: &quot;BASE64_ENCRYPTED_DATA&quot;,
    &quot;integrityValue&quot;: &quot;HMAC_SHA256_VALUE&quot;
  }
}
</code></pre>
<h3 id="2-ì¸ì¦-ê²°ê³¼-ë³µí˜¸í™”">2. ì¸ì¦ ê²°ê³¼ ë³µí˜¸í™”</h3>
<pre><code class="language-http">POST /api/nice/auth/callback
<span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/json

{
  &quot;enc_data&quot;: &quot;RETURN_ENC_DATA&quot;,
  &quot;integrity_value&quot;: &quot;RETURN_INTEGRITY_VALUE&quot;,
  &quot;token_version_id&quot;: &quot;20250113...&quot;
}

<span class="hljs-attribute">Response</span>:
{
  &quot;success&quot;: true,
  &quot;data&quot;: {
    &quot;dataBody&quot;: {
      &quot;name&quot;: &quot;í™ê¸¸ë™&quot;,
      &quot;birthdate&quot;: &quot;19900101&quot;,
      &quot;gender&quot;: &quot;1&quot;,
      &quot;mobileno&quot;: &quot;01012345678&quot;,
      &quot;mobileco&quot;: &quot;SKT&quot;,
      &quot;nationalinfo&quot;: &quot;0&quot;,
      &quot;ci&quot;: &quot;CI_BASE64_STRING&quot;,
      &quot;di&quot;: &quot;DI_BASE64_STRING&quot;
    }
  }
}
</code></pre>
<hr>
<h2 id="-í´ë¼ì´ì–¸íŠ¸-êµ¬í˜„">ğŸ’» í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„</h2>
<h3 id="1ï¸âƒ£-ë³¸ì¸ì¸ì¦-ìš”ì²­-ë°-íŒì—…-ì—´ê¸°">1ï¸âƒ£ ë³¸ì¸ì¸ì¦ ìš”ì²­ ë° íŒì—… ì—´ê¸°</h3>
<pre><code class="language-tsx"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">requestNiceAuth</span>(<span class="hljs-params">authType: <span class="hljs-string">&#x27;M&#x27;</span> | <span class="hljs-string">&#x27;C&#x27;</span> | <span class="hljs-string">&#x27;X&#x27;</span></span>) {
  <span class="hljs-comment">// 1) ë°±ì—”ë“œì— ì•”í˜¸í™” ë°ì´í„° ìš”ì²­</span>
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;/api/nice/auth/request&#x27;</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      <span class="hljs-attr">requestno</span>: <span class="hljs-string">`REQ<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>,
      <span class="hljs-attr">authtype</span>: authType,
      <span class="hljs-attr">returnurl</span>: <span class="hljs-string">`<span class="hljs-subst">${location.origin}</span>/niceauth-callback`</span>
    })
  });
  
  <span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">if</span> (!json.<span class="hljs-property">success</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(json.<span class="hljs-property">message</span>);
  
  <span class="hljs-keyword">const</span> { tokenVersionId, encData, integrityValue } = json.<span class="hljs-property">data</span>;
  
  <span class="hljs-comment">// 2) NICE íŒì—… ì—´ê¸° (form POST ë°©ì‹)</span>
  <span class="hljs-keyword">const</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;form&#x27;</span>);
  form.<span class="hljs-property">method</span> = <span class="hljs-string">&#x27;POST&#x27;</span>;
  form.<span class="hljs-property">action</span> = <span class="hljs-string">&#x27;https://nice.checkplus.co.kr/CheckPlusSafeModel/checkplus.cb&#x27;</span>;
  form.<span class="hljs-property">target</span> = <span class="hljs-string">&#x27;nice_popup&#x27;</span>;
  
  <span class="hljs-keyword">const</span> fields = {
    <span class="hljs-attr">m</span>: <span class="hljs-string">&#x27;service&#x27;</span>,
    <span class="hljs-attr">token_version_id</span>: tokenVersionId,
    <span class="hljs-attr">enc_data</span>: encData,
    <span class="hljs-attr">integrity_value</span>: integrityValue
  };
  
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(fields).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[k, v]</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;input&#x27;</span>);
    input.<span class="hljs-property">type</span> = <span class="hljs-string">&#x27;hidden&#x27;</span>;
    input.<span class="hljs-property">name</span> = k;
    input.<span class="hljs-property">value</span> = v <span class="hljs-keyword">as</span> string;
    form.<span class="hljs-title function_">appendChild</span>(input);
  });
  
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(form);
  <span class="hljs-keyword">const</span> popup = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;nice_popup&#x27;</span>, <span class="hljs-string">&#x27;width=500,height=600&#x27;</span>);
  
  <span class="hljs-keyword">if</span> (!popup) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;íŒì—… ì°¨ë‹¨ë¨ - ë¸Œë¼ìš°ì € íŒì—… í—ˆìš© í•„ìš”&#x27;</span>);
    <span class="hljs-keyword">return</span>;
  }
  
  form.<span class="hljs-title function_">submit</span>();
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(form);
}
</code></pre>
<h3 id="2ï¸âƒ£-ë¶€ëª¨ì°½---postmessage-ìˆ˜ì‹ -ë°-ë³µí˜¸í™”-ìš”ì²­">2ï¸âƒ£ ë¶€ëª¨ì°½ - postMessage ìˆ˜ì‹  ë° ë³µí˜¸í™” ìš”ì²­</h3>
<pre><code class="language-tsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMessage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">event: MessageEvent</span>) =&gt; {
    <span class="hljs-comment">// ë³´ì•ˆ: origin ì²´í¬</span>
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">origin</span> !== <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">origin</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>?.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;NICE_AUTH_RESULT&#x27;</span>) {
      <span class="hljs-keyword">const</span> { enc_data, integrity_value, token_version_id } = event.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>;
      
      <span class="hljs-comment">// ë°±ì—”ë“œì— ë³µí˜¸í™” ìš”ì²­</span>
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;/api/nice/auth/callback&#x27;</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span> },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ enc_data, integrity_value, token_version_id })
      });
      
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">success</span>) {
        <span class="hljs-comment">// ì‚¬ìš©ì ì •ë³´ ì‚¬ìš© (result.data.dataBody)</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ì¸ì¦ ì„±ê³µ:&#x27;</span>, result.<span class="hljs-property">data</span>.<span class="hljs-property">dataBody</span>);
      }
    }
  };
  
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;message&#x27;</span>, handleMessage);
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;message&#x27;</span>, handleMessage);
}, []);
</code></pre>
<h3 id="3ï¸âƒ£-ì½œë°±-í˜ì´ì§€-í¼ë¸”ë¦­-ë¼ìš°íŠ¸">3ï¸âƒ£ ì½œë°± í˜ì´ì§€ (í¼ë¸”ë¦­ ë¼ìš°íŠ¸)</h3>
<p><strong>íŒŒì¼ ìœ„ì¹˜:</strong> <code>/app/niceauth-callback/page.tsx</code> (ì¸ì¦ ë¯¸ì ìš©)</p>
<pre><code class="language-tsx"><span class="hljs-string">&#x27;use client&#x27;</span>;

<span class="hljs-keyword">import</span> { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> { useSearchParams } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;next/navigation&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">NiceAuthCallbackPage</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> params = <span class="hljs-title function_">useSearchParams</span>();
  
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> enc_data = params.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;enc_data&#x27;</span>);
    <span class="hljs-keyword">const</span> integrity_value = params.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;integrity_value&#x27;</span>);
    <span class="hljs-keyword">const</span> token_version_id = params.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;token_version_id&#x27;</span>);
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span> &amp;&amp; !<span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-property">closed</span>) {
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-title function_">postMessage</span>(
        {
          <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;NICE_AUTH_RESULT&#x27;</span>,
          <span class="hljs-attr">data</span>: { enc_data, integrity_value, token_version_id }
        },
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">origin</span>
      );
    }
    
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">close</span>(), <span class="hljs-number">500</span>);
  }, [params]);
  
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;p-8 text-center&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ì¸ì¦ ì²˜ë¦¬ ì¤‘...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;text-sm text-gray-500&quot;</span>&gt;</span>ì°½ì´ ìë™ìœ¼ë¡œ ë‹«í™ë‹ˆë‹¤.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<hr>
<h2 id="ï¸-ì£¼ì˜ì‚¬í•­">âš ï¸ ì£¼ì˜ì‚¬í•­</h2>
<h3 id="í•„ìˆ˜-ì²´í¬í¬ì¸íŠ¸">í•„ìˆ˜ ì²´í¬í¬ì¸íŠ¸</h3>
<ul>
<li>âœ… ì½œë°± í˜ì´ì§€ëŠ” <strong>í¼ë¸”ë¦­ ë¼ìš°íŠ¸</strong>ì—¬ì•¼ í•¨ (ë¡œê·¸ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë°œìƒ ì‹œ NICE íŒŒë¼ë¯¸í„° ìœ ì‹¤)</li>
<li>âœ… ì½œë°± í˜ì´ì§€ëŠ” <strong>'use client'</strong> í•„ìˆ˜ (useSearchParams ì‚¬ìš©)</li>
<li>âœ… postMessage ìˆ˜ì‹  ì‹œ <strong>origin ê²€ì¦</strong> í•„ìˆ˜</li>
<li>âœ… íŒì—… ì°¨ë‹¨ ê°ì§€ ë° ì‚¬ìš©ì ì•ˆë‚´</li>
<li>âœ… CI/DIëŠ” ì„œë²„ì—ì„œë§Œ ì²˜ë¦¬ (í™”ë©´/ë¡œê·¸ ë…¸ì¶œ ê¸ˆì§€)</li>
</ul>
<h3 id="nextjs-ë¹Œë“œ-ì´ìŠˆ">Next.js ë¹Œë“œ ì´ìŠˆ</h3>
<pre><code class="language-tsx"><span class="hljs-comment">// âŒ ë¹Œë“œ ì‹¤íŒ¨ (SSR ì‹œ useSearchParams ì—ëŸ¬)</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> params = <span class="hljs-title function_">useSearchParams</span>(); <span class="hljs-comment">// prerender ì—ëŸ¬</span>
}

<span class="hljs-comment">// âœ… í•´ê²°</span>
<span class="hljs-string">&#x27;use client&#x27;</span>; <span class="hljs-comment">// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ëª…ì‹œ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> params = <span class="hljs-title function_">useSearchParams</span>();
}
</code></pre>
<h3 id="ë³´ì•ˆ">ë³´ì•ˆ</h3>
<ul>
<li>HTTPS í•„ìˆ˜</li>
<li>ë¯¼ê° ì •ë³´ ë¡œê·¸ ê¸ˆì§€ (íœ´ëŒ€í°ë²ˆí˜¸, CI/DI)</li>
<li>postMessage origin ê²€ì¦: <code>event.origin === window.location.origin</code></li>
<li>ë°±ì—”ë“œ ë³µí˜¸í™” APIì— ì¸ì¦/ê¶Œí•œ ì²´í¬ ì ìš©</li>
</ul>
<hr>
<h2 id="-í…ŒìŠ¤íŠ¸-ì²´í¬ë¦¬ìŠ¤íŠ¸">âœ… í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
<h3 id="ê°œë°œ-í™˜ê²½">ê°œë°œ í™˜ê²½</h3>
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> ë³¸ì¸ì¸ì¦ ìš”ì²­ ë²„íŠ¼ í´ë¦­ â†’ íŒì—… ì •ìƒ ìƒì„±</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> íŒì—… ì°¨ë‹¨ ì‹œ ì‚¬ìš©ì ì•ˆë‚´ í‘œì‹œ</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> íŒì—…ì—ì„œ ì¸ì¦ ì™„ë£Œ â†’ ë¶€ëª¨ì°½ìœ¼ë¡œ postMessage ì „ì†¡ í™•ì¸</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> ë¶€ëª¨ì°½ì—ì„œ ë³µí˜¸í™” API í˜¸ì¶œ â†’ ì‚¬ìš©ì ì •ë³´ ìˆ˜ì‹ </li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> ì½œë°± í˜ì´ì§€ í¼ë¸”ë¦­ ì ‘ê·¼ ê°€ëŠ¥ (ë¡œê·¸ì¸ ì—†ì´)</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ì ì ˆí•œ ì—ëŸ¬ ë©”ì‹œì§€</li>
</ul>
<h3 id="ìŠ¤í…Œì´ì§•">ìŠ¤í…Œì´ì§•</h3>
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> ì‹¤ì œ íœ´ëŒ€í°ìœ¼ë¡œ ë³¸ì¸ì¸ì¦ ì™„ë£Œ í…ŒìŠ¤íŠ¸</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> CI/DI ê°’ìœ¼ë¡œ ì¤‘ë³µ íšŒì› ì²´í¬ ì •ìƒ ë™ì‘</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> ë¡œê·¸ì— ë¯¼ê°ì •ë³´ ë¯¸ë…¸ì¶œ í™•ì¸</li>
</ul>
<hr>
<h2 id="-íŒŒì¼-êµ¬ì¡°-ì˜ˆì‹œ">ğŸ“ íŒŒì¼ êµ¬ì¡° ì˜ˆì‹œ</h2>
<pre><code>your-project/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”‚       â””â”€â”€ page.tsx          # ë³¸ì¸ì¸ì¦ ìš”ì²­ ë²„íŠ¼ ìœ„ì¹˜
â”‚   â””â”€â”€ niceauth-callback/
â”‚       â””â”€â”€ page.tsx               # ì½œë°± (í¼ë¸”ë¦­)
â””â”€â”€ lib/
    â””â”€â”€ utils/
        â””â”€â”€ niceAuth.ts            # ìœ í‹¸ í•¨ìˆ˜
</code></pre>
<hr>
<h2 id="-ë¹ ë¥¸-ì‹œì‘">ğŸš€ ë¹ ë¥¸ ì‹œì‘</h2>
<ol>
<li>ì½œë°± í˜ì´ì§€ ìƒì„± (<code>/app/niceauth-callback/page.tsx</code>)</li>
<li>ë³¸ì¸ì¸ì¦ ë²„íŠ¼ì— <code>requestNiceAuth()</code> ì—°ê²°</li>
<li>postMessage ë¦¬ìŠ¤ë„ˆ ë“±ë¡</li>
<li>ìŠ¤í…Œì´ì§• í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸</li>
<li>ìš´ì˜ ë°°í¬</li>
</ol>
<hr>
<h2 id="-ë¬¸ì˜">ğŸ“ ë¬¸ì˜</h2>
<p>ë°±ì—”ë“œ API ê´€ë ¨ ë¬¸ì˜: [ë°±ì—”ë“œíŒ€]<br>
í”„ë¡ íŠ¸ êµ¬í˜„ ì°¸ê³ : <code>/apps/akc-b2c-admin/src/app/(dashboard)/niceauth/</code></p>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>